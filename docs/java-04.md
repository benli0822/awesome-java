# Java基础篇-03：关键字-02

## 关键字-02

### synchronized

常用与多线程编程环境，确保在同一时间内，被修饰的区域有且只有一个线程可访问控制，

#### Java中的锁机制

[原文链接](https://blog.csdn.net/u013256816/article/details/51204385)
[原文链接](https://www.cnblogs.com/darrenqiao/p/9211178.html)
[原文链接](http://youzhixueyuan.com/detailed-explanation-of-java-lock.html)

首先总结一下Java中涉及到的所有锁机制


| 锁机制名称 | 定义                                                                                                                                                                                   | 维度           | 优点                   | 缺点                                                                   | 性能 | Java中的主要实现                                                                           | 应用场景 |
| :--------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------- | :--------------------- | :--------------------------------------------------------------------- | :--- | :----------------------------------------------------------------------------------------- | :------- |
| 公平锁     | 公平锁是指多个线程在等待同一个锁时，必须按照申请锁的先后顺序来一次获得锁。<br/> 原则：先到先得                                                                                         | 多线程执行顺序 | 保证不会出现线程饿死   | 因为先来后到排队，所以效率很低                                         |      | <code> //创建一个公平锁，构造传参true <br/>Lock fairLock= new ReentrantLock(true); </code> |          |
| 非公平锁   | 非公平锁讲究资源抢占，也就是说某个线程在某个时刻需要获取锁，并且锁也正好可用，那么线程就会直接去抢占锁资源。如果没有抢占到，则会进入阻塞队列排队。<br/> 原则：直接抢占资源，抢不到排队 | 多线程执行顺序 | 效率很明显会比公平锁高 | 抢占不到资源的线程很有可能会等待很长时间，造成阻塞队列很长或线程饿死。 |      |                                                                                            |          |
| 乐观锁     | **假设一定会发生并发冲突**，通过阻塞其他线程来保证数据的完整性 <br/> 原则：主动阻塞 <br/> 特征：结合数据库管理系统(DBMS)可以使用版本号机制，或者时间戳机制                             | 多线程共享数据 | 效率高，                       |
| 悲观锁     | **假设不会发生并发冲突**，直接不加锁进行操作，如果冲突就返回失败 <br/> 原则：被动阻塞                                                                                                  | 多线程共享数据 |
| 自旋锁     |                                                                                                                                                                                        |                |
| 可重入锁   |                                                                                                                                                                                        |                |
| 偏向锁     |                                                                                                                                                                                        |                |
| 轻量级锁   |                                                                                                                                                                                        |                |
| 重量级锁   |                                                                                                                                                                                        |                |
| 读写锁     |                                                                                                                                                                                        |                |
| 互斥锁     |                                                                                                                                                                                        |                |

### const